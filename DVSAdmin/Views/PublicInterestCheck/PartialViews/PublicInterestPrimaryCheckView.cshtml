@using DVSAdmin.BusinessLogic.Models;
@using DVSAdmin.Extensions;
@model DVSAdmin.Models.PublicInterestCheckViewModel;
@using DVSAdmin.CommonUtility.Models.Enums

<div class="govuk-tabs__panel" id="primary-check">
    <h2 class="govuk-heading-l">Primary check overview</h2>


    <table class="govuk-table">
        <thead class="govuk-table__head">
            <tr class="govuk-table__row">
                <th scope="col" class="govuk-table__header">Service Provider </th>
                <th scope="col" class="govuk-table__header">Service Name</th>
                <th scope="col" class="govuk-table__header">Conformity <br />Assessment <br />Body</th>
                <th scope="col" class="govuk-table__header">Time Submitted(UTC)</th>
                <th scope="col" class="govuk-table__header">Review Status</th>
                <th scope="col" class="govuk-table__header">Days left to <br />complete<br />review</th>
            </tr>
        </thead>
        <tbody class="govuk-table__body">
             @foreach (var item in Model.PrimaryChecksList)
            {

            <tr class="govuk-table__row">

                <td class="govuk-table__cell">@item.Provider.TradingName</td>
                <td class="govuk-table__cell">@item.ServiceName</td>
                    <td class="govuk-table__cell">@item.CabUser.Cab.CabName</td>
                <td class="govuk-table__cell"> @DateTimeExtensions.FormatDateTime(item.CreatedTime) </td>
                    @if (item.PublicInterestCheck == null)
                {
                        <td class="govuk-table__cell">@HtmlExtensions.ToStyledStrongTag(item.ServiceStatus)</td>
                }
                else
                {
                    <td class="govuk-table__cell">@HtmlExtensions.ToStyledStrongTag(PublicInterestCheckEnum.InPrimaryReview)</td>
                }
                    <td class="govuk-table__cell">@item.Provider.DaysLeftToComplete days</td>

            </tr>

            }
        </tbody>
    </table>

</div>